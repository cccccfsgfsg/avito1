# Тест-кейсы: API объявлений (Avito QA Internship)

| ID     | Название                                      | Предусловие                     | Шаги                                                                                                                                                                                                 | Ожидаемый результат                                                                                                                                                                                                                                               |
|--------|-----------------------------------------------|----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ТК-001 | Создать валидное объявление                   | —                                | 1. Отправить POST-запрос на `/item` с телом:<br>`{"sellerID": 123456, "name": "Тест", "price": 1000, "statistics": {"likes":1, "viewCount":1, "contacts":1}}`<br>2. Посмотреть ответ.                  | Статус: 200.<br>Тело содержит поле `"status"` со строкой вида `"Сохранили объявление - <UUID>"`.<br>UUID имеет корректный формат (36 символов, разделённых дефисами).                                                                                           |
| ТК-002 | Создать объявление с минимальной ценой        | —                                | 1. Отправить POST на `/item` с `"price": 1` и остальными валидными полями.<br>2. Посмотреть ответ.                                                                                                    | Статус: 200.<br>Объявление создано успешно.                                                                                                                                                                                                                       |
| ТК-003 | Создать объявление с неверным типом sellerID  | —                                | 1. Отправить POST на `/item` с `"sellerID": "abc"` (строка вместо числа).<br>2. Посмотреть ответ.                                                                                                    | Статус: 400.<br>В теле ответа есть сообщение об ошибке.                                                                                                                                                                                                           |
| ТК-004 | Создать объявление без названия               | —                                | 1. Отправить POST на `/item` без поля `"name"`.<br>2. Посмотреть ответ.                                                                                                                             | Статус: 400.<br>В ответе указано, что отсутствует обязательное поле.                                                                                                                                                                                              |
| ТК-005 | Создать объявление с отрицательной ценой      | —                                | 1. Отправить POST на `/item` с `"price": -100`.<br>2. Посмотреть ответ.                                                                                                                             | **Ожидается**: статус 400.<br>**Фактически**: статус 200 → **баг**. API не проверяет корректность цены.                                                                                                                                                           |
| ТК-006 | Получить объявление по существующему ID       | Объявление создано (например, из ТК-001) | 1. Скопировать UUID из ответа на создание.<br>2. Отправить GET на `/item/{этот_UUID}`.<br>3. Посмотреть ответ.                                                                                      | Статус: 200.<br>Тело — массив из одного элемента.<br>Элемент содержит поля `id`, `name`, `price`, `sellerId`.<br>Поле `id` совпадает с запрошенным UUID.                                                                                                           |
| ТК-007 | Получить несуществующее объявление            | —                                | 1. Сгенерировать случайный UUID.<br>2. Отправить GET на `/item/{этот_UUID}`.<br>3. Посмотреть ответ.                                                                                               | Статус: 404.<br>В ответе указано, что объявление не найдено.                                                                                                                                                                                                      |
| ТК-008 | Получить объявление с неправильным ID         | —                                | 1. Отправить GET на `/item/123` (просто число, не UUID).<br>2. Посмотреть ответ.                                                                                                                   | Статус: 400.<br>В ответе указано, что формат ID неверный.                                                                                                                                                                                                         |
| ТК-009 | Получить список объявлений продавца           | Создано 2 объявления для одного sellerID | 1. Создать 2 объявления для `sellerID = 123456`.<br>2. Отправить GET на `/123456/item`.<br>3. Посмотреть ответ.                                                                                    | Статус: 200.<br>Тело — массив из 2 или более элементов.<br>Все элементы имеют `sellerId = 123456`.                                                                                                                                                                 |
| ТК-010 | Получить список для продавца без объявлений   | Нет объявлений для sellerID = 999999 | 1. Отправить GET на `/999999/item`.<br>2. Посмотреть ответ.                                                                                                                                        | Статус: 200.<br>Тело — пустой массив `[]`.                                                                                                                                                                                                                        |
| ТК-011 | Получить список с неправильным sellerID       | —                                | 1. Отправить GET на `/abc/item`.<br>2. Посмотреть ответ.                                                                                                                                          | Статус: 400.<br>В ответе указано, что `sellerID` должен быть числом.                                                                                                                                                                                              |
| ТК-012 | Получить статистику по существующему объявлению | Объявление создано (ТК-001)      | 1. Взять UUID из ТК-001.<br>2. Отправить GET на `/statistic/{UUID}`.<br>3. Посмотреть ответ.                                                                                                      | Статус: 200.<br>Тело — массив из одного элемента.<br>Элемент содержит поля `likes`, `viewCount`, `contacts` — все значения ≥ 0.                                                                                                                                  |
| ТК-013 | Статистика нового объявления = как при создании | Только что создано объявление (ТК-001) | 1. Сразу после создания объявления (ТК-001) отправить GET на `/statistic/{UUID}`.<br>2. Проверить значения в ответе.                                                                              | Статус: 200.<br>Значения: `likes = 1`, `viewCount = 1`, `contacts = 1` — точно такие же, как при создании.                                                                                                                                                       |
| ТК-014 | Статистика для несуществующего объявления     | —                                | 1. Отправить GET на `/statistic/{несуществующий_UUID}`.<br>2. Посмотреть ответ.                                                                                                                   | Статус: 404.<br>В ответе указано, что статистика не найдена.                                                                                                                                                                                                      |
| ТК-015 | Статистика с неправильным ID                  | —                                | 1. Отправить GET на `/statistic/invalid`.<br>2. Посмотреть ответ.                                                                                                                                 | Статус: 400.<br>В ответе указано, что формат ID неверный.                                                                                                                                                                                                         |
| ТК-016 | Полный цикл: создать → прочитать → статистика | —                                | 1. Создать объявление (как в ТК-001).<br>2. Получить его по ID (как в ТК-006).<br>3. Получить статистику (как в ТК-012).                                                                           | Все три запроса возвращают статус 200.<br>Данные совпадают: имя, цена, ID и статистика такие же, как были заданы при создании.                                                                                                                                  |
